<?xml version="1.0" encoding="UTF-8"?>
<executionPlan name="SecondDerivativeOfHealthRequest"
  statistics="disable" trace="enable" xmlns="http://wso2.org/carbon/eventprocessor">
  <description>This will find the second derivative of health stats over a minute.</description>
  <siddhiConfiguration>
    <property name="siddhi.enable.distributed.processing">false</property>
    <property name="siddhi.persistence.snapshot.time.interval.minutes">0</property>
  </siddhiConfiguration>
  <importedStreams>
    <stream as="healthStats3" name="stratos.agent.health.stats" version="1.0.0"/>
  </importedStreams>
  <queryExpressions><![CDATA[define partition healthStats3Partition by member_id; 
    from healthStats3 [health_description == 'memory_consumption'] #window.stratos:secondDerivative(1 min, value) select member_id, value as second_derivative_memory_consumption insert into second_derivative_memory_consumption_stats partition by healthStats3Partition;
  from healthStats3 [health_description == 'load_average'] #window.stratos:secondDerivative(1 min, value) select member_id, value as second_derivative_load_average insert into second_derivative_load_average_stats partition by healthStats3Partition;]]></queryExpressions>
  <exportedStreams>
    <stream name="second_derivative_memory_consumption_stats" passthroughFlow="disable"
      valueOf="second_derivative_memory_consumption_stats" version="1.0.0"/>
    <stream name="second_derivative_load_average_stats" passthroughFlow="disable"
      valueOf="second_derivative_load_average_stats" version="1.0.0"/>
  </exportedStreams>
</executionPlan>
