<div class="container content-starter">
    <div class="row">
        <div class="col-lg-12">
            <h1>{{title}}</h1>
        </div>
    </div>
</div>
<div class="container" id="addItemSection">
    <div class="row">
        <div class="col-md-12">
            <form id="jsonForm" method="post" role="form" action="{{url "/controllers/policyDefinitionSubmit.jag"}}">


            <div class="container">
                <div class="row">
                    <div class="col-md-6 padding-remover-left">
                        <label class="required">Policy Type</label>

                        <div class="form-inline" style="padding-bottom: 10px;">
                            <div class="radio">
                                <label style="padding-right: 20px;">
                                    <input name="policyType" value="autoscale-policy" type="radio" checked="checked"> Auto scale
                                </label>
                                <label>
                                    <input name="policyType" value="deployment-policy" type="radio"> Deployment
                                </label>
                            </div>
                        </div>
                        <label for="policy" class="required">Policy Configuration</label>
                        <textarea name="policy-definition" class="form-control required" rows="11" id="policy"></textarea>
                        <button type="submit" class="btn btn-primary" id="deployPolicy">Deploy Policy</button>
                    </div>
                    <div class="col-md-6">
                        <i class="icons-help"></i>
                        Example configuration:
                                    <pre>
                                    {
                                          "autoscalePolicy": {
                                            "id": "economyPolicy",
                                            "loadThresholds": {
                                              "requestsInFlight": {
                                                "average": "6000",
                                                "gradient": "0",
                                                "secondDerivative": "0",
                                                "scaleDownMarginOfGradient": "1.0",
                                                "scaleDownMarginOfSecondDerivative": "0.2"
                                              },
                                              "memoryConsumption": {
                                                "average": "6000",
                                                "gradient": "0",
                                                "secondDerivative": "0",
                                                "scaleDownMarginOfGradient": "1.0",
                                                "scaleDownMarginOfSecondDerivative": "0.2"
                                              },
                                              "loadAverage": {
                                                "average": "6000",
                                                "gradient": "0",
                                                "secondDerivative": "0",
                                                "scaleDownMarginOfGradient": "1.0",
                                                "scaleDownMarginOfSecondDerivative": "0.2"
                                              }
                                            }
                                          }
                                        }
                                    </pre>
                    </div>
                </div>

            </div>


            </form>

        </div>
    </div>
</div>

<div class="container">

    <div class="row">
        <div class="col-md-12">


            <div class="panel-group" id="accordion">
                <h3>Auto scale</h3>
                {{#each policy_autoscale}}
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapse{{key}}">
                                {{id}}
                            </a>
                        </h4>
                    </div>
                    <div id="collapse{{key}}" class="panel-collapse collapse">
                        <div class="panel-body">

                            <div style="font-weight: bold">loadThresholds</div>
                            {{loadThresholds}}<br />
                        </div>
                    </div>
                </div>
                {{/each}}

                <h3>Deployment</h3>
                {{#each policy_deployments}}
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapse{{key}}">
                                {{id}}
                            </a>
                        </h4>
                    </div>
                    <div id="collapse{{key}}" class="panel-collapse collapse">
                        <div class="panel-body">
                            <div style="font-weight: bold">partitionGroup</div>
                            {{partitionGroup}}<br />
                        </div>
                    </div>
                </div>
                {{/each}}



            </div>
        </div>
    </div>
</div>
<script src="{{url "/themes/theme1/ui/js/utils.js"}}"></script>
<script src="{{url "/themes/theme1/ui/js/configure_stratos.js"}}"></script>